set nocompatible              " be iMproved, required
filetype off                  " required

set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()
   Plugin 'VundleVim/Vundle.vim'
   Plugin 'tpope/vim-fugitive'
   Plugin 'tpope/vim-unimpaired'
   Plugin 'tpope/vim-repeat'
   Plugin 'tpope/vim-abolish'
   Plugin 'tpope/vim-surround'
   Plugin 'ntpeters/vim-better-whitespace'
   Plugin 'altercation/vim-colors-solarized'
   Plugin 'christoomey/vim-tmux-navigator'
   Plugin 'Yggdroot/indentLine'
   Plugin 'flazz/vim-colorschemes'
   Plugin 'joshdick/onedark.vim'
   Plugin 'fatih/molokai'
   Plugin 'scrooloose/nerdtree'
   " ~/.vim/vundle/YouCompleteMe/install.py --clang-completer --go-completer
   Plugin 'Valloric/YouCompleteMe'
   "NOTE TRY ME and compare again YouCompleteMe for py complet
   Plugin 'davidhalter/jedi-vim'
   "{{{ golang
   Plugin 'fatih/vim-go', { 'do': ':GoInstallBinaries' }
   ""FIXME:  20/2/2018 - Experiment with autocomplete, does it improve
   "Plugin 'mdempsky/gocode', {'rtp': 'vim/'}
   "}}}
   " Use gS, gJ
   Plugin 'AndrewRadev/splitjoin.vim' "
   Plugin 'SirVer/ultisnips'
   Plugin 'honza/vim-snippets'
   " Need by vim-go for :GoDecls, :GoDeclsDir
   Plugin 'ctrlpvim/ctrlp.vim'
   Plugin 'ekalinin/Dockerfile.vim'
   Plugin 'itchyny/lightline.vim'
   " Slow as hell
   Plugin 'airblade/vim-gitgutter'
   Plugin 'majutsushi/tagbar'
   Plugin 'w0rp/ale'
   " yaml
   Plugin 'chase/vim-ansible-yaml'
   " Python
   Plugin 'python-mode/python-mode'
   Plugin 'vim-scripts/indentpython.vim'
   " trial plugins
   "Plugin 'tmhedberg/SimpylFold'
   "Plugin 'TaskList.vim'
   "Plugin 'jceb/vim-orgmode'
   Plugin 'sheerun/vim-polyglot'
   Plugin 'ervandew/supertab'
call vundle#end()

"{{{
set exrc
set secure
set showcmd "show last command enter of bottom right
"SLOW
set cursorline "highlight current line
set wildmenu "visual auto complete for command menu
set lazyredraw "redraw only when we need to
"}}}
"
"{{{ cpp stuff
augroup project
     autocmd!
     autocmd BufRead,BufNewFile *.h,*.c set filetype=c.doxygen
augroup END
"}}}

"{{{ encoding
set encoding=utf-8
set fileencoding=utf-8
scriptencoding utf-8
"}}}
filetype on
filetype plugin indent on    " required
syntax on
set ttyfast     "Indicate fast termina; conn for faster redraw
set ttymouse=xterm  "Indicate terminal type for mouse codes
set ttyscroll=3  "Speedup scrolling

" Solarized Plugin{{{
   set background=dark
   if &t_Co >=256 || has("gui_running")
      colorscheme solarized
   endif
" }}}
"
" Common setings{{{
let mapleader=","
"set clipboard=unamed "CHECKME: Is copying working
set nowrap        " don't wrap lines
set tabstop=4     " a tab is four spaces
set shiftwidth=4  " number of spaces to use for autoindenting
set softtabstop=4 " a tab is four spaces
set backspace=indent,eol,start "Makes backspace more powerful
                  " allow backspacing over everything in insert mode
set expandtab      " always expand, noexpandtab is required only for makefile
set autoindent    " always set autoindenting on
set copyindent    " copy the previous indentation on autoindenting
set number        " always show line numbers
set relativenumber " Show relative number
set shiftround    " use multiple of shiftwidth when indenting with '<' and '>'
set showmatch     " set show matching parenthesis
set matchtime=0   " Avoid cursor to jump
set ignorecase    " ignore case when searching
set smartcase     " ignore case if search pattern is all lowercase,
                  "    case-sensitive otherwise
set smarttab      " insert tabs on the start of a line according to
                  "    shiftwidth, not tabstop
set hlsearch      " highlight search terms
set incsearch     " show search matches as you type

set history=1000         " remember more commands and search history
set undolevels=1000      " use many muchos levels of undo
set wildignore=*.swp,*.bak,*.pyc,*.class
set wildignore+=*.a,*.o,
set wildignore+=.git,*.bmp,*.gif,*.jpg,*.png
set title                " change the terminal's title
set visualbell           " don't beep
set noerrorbells         " don't beep
set confirm                 " Display confirmation when closing an unsaved file

set nobackup
set nowritebackup
set noswapfile
set ruler             "Show cursor's current col and line number
set autoread          "Reload buffer if file was modified in another buffer
set shortmess+=I      "Suppress startup message on vim
set list
set hidden            "Buffer should still exists if window is closed
set listchars=tab:→\ ,trail:∙,nbsp:•,eol:¬
autocmd filetype html,xml set listchars-=tab:>.

" #NOTE, #CHECKME
"set noshowmatch      "Do not show matching brackets by flickering
"set noshowmode       "We show the mode with airline or lightline

"
" Autocmd for aterating defaults {{{
" }}}
"
"
" Mapped Keys {{{
nmap <leader>l :set list!<cr>
nmap <leader>w :w<cr> "Write file
nmap <leader>wq :wq<cr> "Write and quiteifile
nmap <leader>q :q<cr> "Quit file
nnoremap <leader>ev :vsplit $MYVIMRC<cr>
nnoremap <leader>sv :source $MYVIMRC<cr>
" }}}
"
"
" UltiSnips not working with paste set
"set paste
"
"tagbar plugin
noremap <Leader>T :TagbarToggle<Enter>

"
" vim-markdown-preview {{{
" pip install grip
" 0 - depends on markdown perl plugin
" 1 - for github style
let vim_markdown_preview_github=1
" 0, not on buffer write 1 - display image on ctrl-p, 2 - preview on write
" with image, 3- preview on write without image rendering
let vim_markdown_preview_toggle=0
"}}}
"
"{{{

" OmniCppComplete
let OmniCpp_NamespaceSearch = 1
let OmniCpp_GlobalScopeSearch = 1
let OmniCpp_ShowAccess = 1
let OmniCpp_ShowPrototypeInAbbr = 1 " show function parameters
let OmniCpp_MayCompleteDot = 1 " autocomplete after .
let OmniCpp_MayCompleteArrow = 1 " autocomplete after ->
let OmniCpp_MayCompleteScope = 1 " autocomplete after ::
let OmniCpp_DefaultNamespaces = ["std", "_GLIBCXX_STD"]
" automatically open and close the popup menu / preview window
au CursorMovedI,InsertLeave * if pumvisible() == 0|silent! pclose|endif
set completeopt=menuone,menu,longest,preview
au BufNewFile,BufRead,BufEnter *.cpp,*.hpp set omnifunc=omni#cpp#complete#Main

""}}}

" {{{
" For IdentLine plugin
" :IndentToggle
set softtabstop=4 " makes the spaces feel like real tabs
let g:indentLine_color_term = 239
let g:indentLine_char = '|'
" }}}



" {{{ vim-go customization
" https://github.com/fatih/vim-go-tutorial#quick-setup
" gofmt and rewrite the import declarations
" vendor packages not working, trying with -srcdir .
let g:go_fmt_command = "goimports"
let g:go_autodetect_gopath = 1
" Use only quickfix list not location list
let g:go_list_type = "quickfix"

" Write the file automatically, if we call :make eg, :GoBuild,GoTest etc, it will
" automatically savea the file before compiling
set autowrite

" To make it easier to jump between errors in quickfix list:
map <C-n> :cnext<cr>
map <C-m> :cprevious<cr>
nnoremap <leader>a :cclose<cr>

" run :GoBuild or :GoTestCompile based on the go file
function! s:build_go_files()
  let l:file = expand('%')
  if l:file =~# '^\f\+_test\.go$'
    call go#test#Test(0, 1)
  elseif l:file =~# '^\f\+\.go$'
    call go#cmd#Build(0)
  endif
endfunction

" create a go doc comment based on the word under the cursor
function! s:create_go_doc_comment()
  norm "zyiw
  execute ":put! z"
  execute ":norm I// \<Esc>$"
endfunction
"ui -> generate document
nnoremap <leader>ui :<C-u>call <SID>create_go_doc_comment()<CR>

" Shortcuts for building Go programs
"
autocmd BufNewFile,BufRead *.go setlocal expandtab tabstop=4 softtabstop=4 shiftwidth=4
autocmd filetype go, set listchars-=tab:

autocmd FileType go nmap <leader>b :<C-u>call <SID>build_go_files()<cr>
autocmd FileType go nmap <leader>r  <Plug>(go-run)
autocmd FileType go nmap <leader>t <Plug>(go-test)
autocmd FileType go nmap <leader>c <Plug>(go-coverage-toggle)
autocmd FileType go nmap <leader>i <Plug>(go-info)
au Filetype go nmap <leader>ga <Plug>(go-alternate-edit)
au Filetype go nmap <leader>gah <Plug>(go-alternate-split)
au Filetype go nmap <leader>gav <Plug>(go-alternate-vertical)
"au BufRead *.go execute ":TagbarOpen"

autocmd FileType go nmap <C-]> :GoDef<cr>
autocmd FileType go nmap <C-t> :GoDefPop<cr>
"FIXME, Puts go files in REPLACE mode
"autocmd FileType go nmap <C-[> :GoDefStack<cr>
autocmd FileType go nmap <C-c> :GoCallers<cr>
autocmd FileType go nmap <C-s> :GoCallStack<cr>
" Open :GoDeclsDir with ctrl-g
autocmd FileType go nmap <C-g> :GoDeclsDir<cr>
autocmd FileType go imap <C-g> <esc>:<C-u>GoDeclsDir<cr>


autocmd Filetype go command! -bang A call go#alternate#Switch(<bang>0, 'edit')
autocmd Filetype go command! -bang AV call go#alternate#Switch(<bang>0, 'vsplit')
autocmd Filetype go command! -bang AS call go#alternate#Switch(<bang>0, 'split')
autocmd Filetype go command! -bang AT call go#alternate#Switch(<bang>0, 'tabe')

" vim-go default  is snake_case
let g:go_addtags_transform = "camelcase"
" highligt types, fields
let g:go_highlight_types = 1
let g:go_highlight_fields = 1
let g:go_highlight_functions = 1
let g:go_highlight_methods = 1
let g:go_highlight_function_calls = 1
let g:go_highlight_operators = 1
let g:go_highlight_extra_types = 1
let g:go_highlight_build_constraints = 1

" default settings, add if more
let g:go_metalinter_enabled = ['vet', 'golint', 'errcheck']
" Run on every save
let g:go_metalinter_autosave = 0 "1 - Disabled
let g:go_metalinter_autosave_enabled = ['vet', 'golint']
let g:go_metalinter_deadline = "25s"


" use godef instead of guru, FIXME: Find which is better for you
" Problem with ~/go/src/ and ~/git/<goproject> i.e a package not under GOPATH
let g:go_def_mode = 'guru'
"let g:go_def_mode = 'godef' "Works for package. jump but fails for structs
let g:go_auto_type_info = 1
let g:go_auto_sameids = 1
" 20/2/19
let g:go_info_mode = 'gocode'
let g:go_gocode_propose_source = 1
" from https://gist.github.com/tyru/984296
" Substitute a:from => a:to by string.
" To substitute by pattern, use substitute() instead.
function! s:substring(str, from, to)
  if a:str ==# '' || a:from ==# ''
      return a:str
  endif
  let str = a:str
  let idx = stridx(str, a:from)
  while idx !=# -1
      let left  = idx ==# 0 ? '' : str[: idx - 1]
      let right = str[idx + strlen(a:from) :]
      let str = left . a:to . right
      let idx = stridx(str, a:from)
  endwhile
  return str
endfunction

function! s:chomp(string)
  return substitute(a:string, '\n\+$', '', '')
endfunction

" If package is under GOPATh
function! s:go_guru_scope_from_git_root()
  let gitroot = system("git rev-parse --show-toplevel | tr -d '\n'")
  let pattern = escape(go#util#gopath() . "/src/", '\ /')
  return substitute(gitroot, pattern, "", "") . "/... -vendor/"
endfunction

" Its not working for pointer analysis
"au FileType go silent exe "GoGuruScope " . s:go_guru_scope_from_git_root()
" FIXME: Doesn't work
" GoGuruScope adp-gs-cm-nbi/... is not working, i guess its expecting gopath
" go list -v ./...
let g:go_guru_scope = ["adp-gs-cm-nbi/cpa", "adp-gs-cm-nbi/mc", "adp-gs-cm-nbi/confd", "adp-gs-cm-nbi/common", "adp-gs-cm-nbi/cmd/yp_int", "adp-gs-cm-nbi/cmd/auth_data_handler","adp-gs-cm-nbi/cmd/cpa","adp-gs-cm-nbi/cmd/schema_synchronizer","adp-gs-cm-nbi/cmd/validator-api"]

"}}}

" For SirVer/ultisnips

filetype plugin indent on

" make YCM compatible with UltiSnips (using supertab)
nnoremap <leader>y :let g:ycm_auto_trigger=0<CR>                " turn " off YCM
nnoremap <leader>Y :let g:ycm_auto_trigger=1<CR>                "turn on
" YCM
" FIXME, TRY changed from 1 to 0DIsable ycm
let g:ycm_auto_trigger=1 " Ycm better than pymode?
let g:ycm_key_list_select_completion = ['<C-n>', '<Down>']
let g:ycm_key_list_previous_completion = ['<C-p>', '<Up>']
let g:ycm_autoclose_preview_window_after_completion=1
map <leader>g  :YcmCompleter GoToDefinitionElseDeclaration<cr>
let g:ycm_collect_identifiers_from_tags_files = 1 " Let YCM read tags from Ctags file
let g:ycm_use_ultisnips_completer = 1 " Default 1, just ensure
let g:ycm_seed_identifiers_with_syntax = 1 " Completion for programming language's keyword
let g:ycm_complete_in_comments = 1 " Completion in comments
let g:ycm_complete_in_strings = 1 " Completion in string
let g:SuperTabDefaultCompletionType = '<C-n>'
""TRY use omnicomplete
let g:SuperTabDefaultCompletionType = '<C-x><C-o>'


" Trigger configuration. Do not use <tab> if you use https://github.com/Valloric/YouCompleteMe.
let g:UltiSnipsExpandTrigger="<tab>"
let g:UltiSnipsJumpForwardTrigger="<c-j>"
let g:UltiSnipsJumpBackwardTrigger="<c-k>"
let g:UtliSnipsListSnippets = "<c-l>"

" If you want :UltiSnipsEdit to split your window.
let g:UltiSnipsEditSplit="vertical"


" Check :help go-settings

" Trial, remove them after
let g:rehash256 = 1
let g:molaki_original = 1
"colorscheme molokai
colorscheme onedark
" NOTE: 13-03-2019, For toggling schema
call togglebg#map("<F5>")


" For lightline
let g:lightline = {
\ 'colorscheme': 'wombat',
\ 'active': {
\   'left': [['mode', 'paste'], ['filename', 'modified']],
\   'right': [['lineinfo'], ['percent'], ['readonly', 'linter_warnings', 'linter_errors', 'linter_ok']]
\ },
\ 'component_expand': {
\   'linter_warnings': 'LightlineLinterWarnings',
\   'linter_errors': 'LightlineLinterErrors',
\   'linter_ok': 'LightlineLinterOK'
\ },
\ 'component_type': {
\   'readonly': 'error',
\   'linter_warnings': 'warning',
\   'linter_errors': 'error'
\ },
\ }

function! LightlineLinterWarnings() abort
  let l:counts = ale#statusline#Count(bufnr(''))
  let l:all_errors = l:counts.error + l:counts.style_error
  let l:all_non_errors = l:counts.total - l:all_errors
  let g:ale_sign_warning = '
  return l:counts.total == 0 ? '' : printf('%d ⚠', all_non_errors)
endfunction

function! LightlineLinterErrors() abort
  let l:counts = ale#statusline#Count(bufnr(''))
  let l:all_errors = l:counts.error + l:counts.style_error
  let l:all_non_errors = l:counts.total - l:all_errors
  return l:counts.total == 0 ? '' : printf('%d ✗', all_errors)
endfunction

function! LightlineLinterOK() abort
  let l:counts = ale#statusline#Count(bufnr(''))
  let l:all_errors = l:counts.error + l:counts.style_error
  let l:all_non_errors = l:counts.total - l:all_errors
  return l:counts.total == 0 ? '✓ ' : ''
endfunction

autocmd User ALELint call lightline#update()

set laststatus=2

" close help buffer using q
autocmd FileType help noremap <buffer> q :q<cr>
" }}}
"
" {{{
" Whitespace
highlight BadWhitespace ctermbg=red guibg=red
au BufRead,BufNewFile *.py,*.pyw,*.c,*.h match BadWhitespace /\s\+$/
" }}}

"
"
" New split windows, at bottom
set splitbelow
set splitright

" Yaml
au! BufNewFile,BufReadPost *.{yaml,yml} set filetype=yaml foldmethod=indent
autocmd FileType yaml setlocal ts=2 sts=2 sw=2 expandtab

" VIM, navigating between the panes
nnoremap <C-j> <C-w>j
nnoremap <C-k> <C-w>k
nnoremap <C-h> <C-w>h
nnoremap <C-l> <C-w>l
" Or may be <cr> itself>
nnoremap <cr> <C-w><C-w>

" {{{
" Python IDE
"
"
set nofoldenable
"set foldmethod=indent
"set foldlevel=99
"nnoremap <space> za


"https://github.com/Valloric/YouCompleteMe#python-semantic-completion
let g:ycm_python_interpreter_path = '/usr/bin/python'
let g:ycm_python_sys_path = []
let g:ycm_extra_conf_vim_data = [
   \  'g:ycm_python_interpreter_path',
   \  'g:ycm_python_sys_path'
   \]
let g:ycm_global_ycm_extra_conf = '~/global_extra_conf.py'

au BufNewFile, BufRead *.py
    \ set tabstop=4
    \ set softtabstop=4
    \ set shiftwidth=4
    \ set textwidth=100
    \ set expandtab
    \ set autoindent
    \ set fileformat=unix
    \ set smartindent
let python_highlight_all=1

" python with virtualenv support
py << EOF
import os
import sys
if 'VIRTUAL_ENV' in os.environ:
    project_base_dir = os.environ['VIRTUAL_ENV']
    activate_this = os.path.join(project_base_dir, 'bin/activate_this.py')
    execfile(activate_this, dict(__file__=activate_this))
EOF
"}}}

"
"python formatter:
" What to choose? yapf vs autopep8 vs black
" Seems like black is good, similar to gofmt ( without options)
" autopep8 definitely no, Choose between yapf or black
"
" Few pints of ale
" Run only after save,
let g:ale_lint_on_text_change = 'never'
let g:ale_lint_on_enter = 0

let g:ale_linters = {}
let g:ale_linters.python = ['flake8', 'pylint', 'pycodestyle']
let g:ale_python_pylint_options = '--rcfile ~/git/dotfiles/pylintrc'


" Ale settings
let g:ale_sign_error = '✘'
let g:ale_sign_warning = '⚠'
highlight ALEErrorSign ctermbg=NONE ctermfg=red
highlight ALEWarningSign ctermbg=NONE ctermfg=yellow
let g:ale_fix_on_save=1
let g:ale_fixers = {
    \ '*': ['remove_trailing_lines', 'trim_whitespace'],
    \ 'python': ['yapf', 'isort', 'black', 'autopep8'],
    \ 'sh': ['shfmt'],
  \ }
let g:ale_sh_shell_default_shell='bash'
let g:ale_fixers.python = ['yapf', 'autopep8', 'isort' ]
nmap <silent> [w <Plug>(ale_previous_wrap)
nmap <silent> ]w <Plug>(ale_next_wrap)
nmap <leader>f <Plug>(ale_fix)
nmap <leader>+ :let b:ale_enabled=1<cr>

"Disable Ale for the following file patterns
let g:ale_pattern_options = {
    \ '.*\.txt$': { 'ale_enabled': 0 },
    \ '.*\.rst$': { 'ale_enabled': 0 },
    \}
"
" Plugins need to be added to runtimepath before helptags can be generated.
packloadall
" Load all of the helptags now, after plugins have been loaded.
" All messages and errors will be ignored.
silent! helptags ALL

"
"
let g:pymode=1
let g:pymode_python='python'
let g:pymode_syntax=1
let g:pymode_syntax_all=1
let g:pymode_syntax_indent_errors=1
let g:pymode_syntax_space_errors=1
let g:pymode_options_colorcolumn = 1
let g:pymode_doc = 1
let g:pymode_doc_bind = 'K'
let g:pymode_virtualenv = 1
let g:pymode_lint = 0 "Disabled in favour of ALE
let g:pymode_rope = 0
let g:pymode_rope_lookup_project = 0
let g:pymode_rope_completion = 0
let g:pymode_rope_completion_on_dot = 0
let g:pymode_rope_completion_bind = '<C-space>'
let g:pymode_rope_autoimport = 1
let g:pymode_rope_goto_definition_bind = '<C-c>g'
let g:pymode_rope_rename_bindi = '<C-c>rr'
let g:pymode_rope_organize_imports_bind = '<C-c>ro'
""
"My lessons on vim!
"* Learn to use :help, Google at last resort
"* Look for common mistakes, repetitive tasks, annoyances. Fix them using .vimrc
"* Use vimawesome.com, before installing any plugin.
"* Update your self, check the trends https://github.com/trending/vim-script
"* Learn vimscript, learnvimscriptthehardway.stevelosh.com
"* Maintain ~/.vimrc, remove unused plugin or bindings
"* remap <ESC>
"
"{{{ Remap esc
inoremap jk <esc>
inoremap kj <esc>
" Note: If its enabled, i get garabage terminal stuff in a line
" https://stackoverflow.com/questions/21618614/vim-shows-garbage-characters
"inoremap <esc> <nop>
"}}}
"

"{{{
" Yggdroot/identLine
" Dont conceal quotes in json
let g:vim_json_syntax_conceal = 0
let g:indentLine_concealcursor = 'inc'
let g:indentLine_conceallevel = 2
"}}}

" show invisible
set list listchars=tab:▸\ ,trail:·,precedes:←,extends:→,eol:↲,nbsp:␣
" }}}
" TODO:
" Use TaskList
" Use CtrlP
" Use python-mode
" Use ale
" check if python-mode rope conflict with ycm
"
"
" wayneye.com/vimrc
"***Language specified***
" shell (tab width 2 chr)
autocmd FileType json setlocal ts=2 sts=2 sw=2 textwidth=0 expandtab
autocmd FileType sh map <buffer> <C-S-e> :w<CR>:!/bin/sh % <CR>
" Json (tab width 2 chr)
autocmd FileType json setlocal ts=2 sts=2 sw=2 textwidth=0 expandtab

" Setup Omnicompletion
" Messing with pymode?
" TRYME disabled now to check jedi
autocmd FileType python set omnifunc=pythoncomplete#Complete
autocmd FileType html set omnifunc=htmlcomplete#CompleteTags
autocmd FileType xml set omnifunc=xmlcomplete#CompleteTags
autocmd FileType c set omnifunc=ccomplete#Complete
"improve autocomplete menu color
highlight Pmenu ctermbg=238 gui=bold

"
"
" Abbrevations
iabbrev @@ ennc0d3@gmail.com
"{{{ GitGutter, too slow
set updatetime=100
nmap ]h <Plug>GitGutterNextHunk
nmap [h <Plug>GitGutterPrevHunk
nmap <Leader>ha <Plug>GitGutterStageHunk
nmap <Leader>hu <Plug>GitGutterUndoHunk
nmap <Leader>hv <Plug>GitGutterPreviewHunk
omap ih <Plug>GitGutterTextObjectInnerPending
omap ah <Plug>GitGutterTextObjectOuterPending
xmap ih <Plug>GitGutterTextObjectInnerVisual
xmap ah <Plug>GitGutterTextObjectOuterVisual
autocmd BufWritePost * GitGutter
" Default is against staging
"let g:gitgutter_diff_base = 'origin/master'


" Try this valuesjk
"let g:gitgutter_realtime = 0
"let g:gitgutter_eager = 0
" Profile it
"profile start gitter.log
"profile! file */vim-gitgutter/*
"autocmd BufWritePost * GitGutter

"}}}

"{{{
map <leader>N :NERDTreeToggle %<CR>
autocmd bufenter * if (winnr("$") == 1 && exists("b:NERDTree") && b:NERDTree.isTabTree()) | q | endif
"}}}
"
"
"{{{
"" This enables us to undo files even if you exit Vim.
if has('persistent_undo')
  set undofile
  set undodir=~/.config/vim/tmp/undo//
endif
"}}}
"
"{{{
"" Enter automatically into the files directory
autocmd BufEnter * silent! lcd %:p:h
""}}}

"{{{
" Occasional tabuser tis 26 feb 2019 23:48:13 CET
nmap <silent> tt :tabnew<CR>
nmap <silent> [g :tabprevious<CR>
nmap <silent> ]g :tabnext<CR>
nmap <silent> [G :tabrewind<CR>
nmap <silent> ]G :tablast<CR>
""}}}
"""JEDI
let g:jedi#show_call_signatures = "1"


" NOTES:
" q:  - Dynamic list of commands run in command mode aka history
" :e <C-d> - List directories
"  [count] {operator} {[count] motion|text object}
"
" ISSUES
" shift-K in vim-go enters to mode which writes  jkjk
